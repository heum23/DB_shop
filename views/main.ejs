<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <style>
    /* 전체 페이지 스타일 */
    body {
      font-family: "Montserrat", sans-serif;
      margin: 0;
      padding: 0;
      background-color: #ffffff; /* 밝고 깔끔한 느낌 */
      color: #333;
    }

    /* 헤더 스타일 */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 30px;
      background-color: white;
      border-bottom: 1px solid #ddd;
      position: fixed;
      width: 100%;
      top: 0;
      left: 0;
      z-index: 1000;
      max-width: 100vw; /* 화면 너비 초과 방지 */
      overflow: hidden; /* 넘치는 요소 숨김 */
      box-sizing: border-box;
    }

    /* 로고 스타일 */
    .header div.logo {
      font-size: 22px;
      font-weight: 700;
      letter-spacing: 0.8px;
      white-space: nowrap; /* 줄바꿈 방지 */
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* 네비게이션 */
    .header .nav {
      display: flex;
      flex-grow: 1; /* 중앙 정렬 */
      justify-content: center;
      font-size: 16px;
      font-weight: 500;
    }

    /* 우측 아이콘 */
    .header .icon {
      display: flex;
      gap: 18px;
      font-size: 14px;
      white-space: nowrap; /* 줄바꿈 방지 */
    }

    .header .icon div {
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .header .icon div:hover {
      color: #ff8c42;
      transform: scale(1.1);
    }

    /* 상품 리스트 스타일 */
    .bigDiv {
      margin-top: 100px;
      padding: 30px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      justify-items: center;
    }

    /* 상품 카드 스타일 */
    .box {
      border-radius: 10px;
      overflow: hidden;

      width: 100%;
      max-width: 270px;
      transition: all 0.3s ease;
      cursor: pointer;
      padding: 15px;
      text-align: left;
      position: relative;
    }

    .box img {
      border: 1px solid #ddd;
      width: 100%;
      height: 230px;
      object-fit: cover;
      border-radius: 8px;
      transition: transform 0.3s ease;
    }

    .box:hover img {
      transform: scale(1.03);
    }

    /* 상품명 스타일 */
    .box .name {
      font-size: 16px;
      font-weight: 600;
      color: #333;
      margin: 10px 0;
    }

    /* 가격 스타일 */
    .box .price {
      font-size: 18px;
      font-weight: 700;
      margin-top: 5px;
    }

    .box .wishlist:hover {
      color: #ff5252;
    }

    /* 반응형 스타일 */
    @media (max-width: 1024px) {
      .bigDiv {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    @media (max-width: 768px) {
      .bigDiv {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 480px) {
      .bigDiv {
        grid-template-columns: repeat(1, 1fr);
      }
    }
    .mainPage {
      cursor: pointer;
    }
  </style>

  <body>
    <div class="header">
      <div>로고</div>
      <div class="mainPage" onclick="moveMain()">TimeMirror</div>
      <div class="icon">
        <div>로그인</div>
        <div onclick="moveCart()">장바구니</div>
      </div>
    </div>
    <div class="container">
      <div class="bigDiv"></div>
    </div>
    <div class="btn" onclick="moveSetPage()">등록페이지</div>
  </body>
  <script>
    let bigDiv = document.querySelector(".bigDiv");

    const mainDiv = () => {
      axios({
        method: "get",
        url: "/shop/main",
      }).then((res) => {
        console.log(res.data);
        res.data.forEach((item) => {
          bigDiv.innerHTML += `<div class="box" onclick="moveDetail(${item.id})">  
        <div class="img"><img src = "/uploads/${item.img}"></div>
        <div class="name"> ${item.name}</div>
        <div class="price">${item.price}원</div><br>`;
        });
      });
    };
    mainDiv();

    const moveMain = () => {
      window.location.href = "/";
    };
    const moveSetPage = () => {
      window.location.href = "/shop/set";
    };

    const moveDetail = (id) => {
      window.location.href = `/shop/detail/${id}`;
    };

    const moveCart = () => {
      window.location.href = "cart/all";
    };
  </script>
</html>
